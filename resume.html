<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume - Rahul Kumar Thakur</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* * Resume Styling
         * This style block defines the overall look and feel, including the A4 paper effect.
        */
        body {
            font-family: 'Inter', sans-serif;
            /* MODIFIED: Reduced font size and line height */
            font-size: 0.9rem;
            line-height: 1.5;
            background-color: #f0f2f5; /* A slightly softer background color */
            color: #333;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* --- A4 Paper Effect Container --- */
        .paper-container {
            background: #fff;
            margin: 2rem auto; /* Centers the paper on the page with vertical margin */
            padding: 2.5rem 3rem; /* Generous padding for content */
            max-width: 8.5in; /* Simulates the width of a physical document (US Letter/A4) */
            width: 100%; /* Ensures responsiveness on smaller screens */
            box-shadow: 0 4px 20px rgba(0,0,0,0.1); /* A more pronounced shadow for depth */
            border-radius: 8px; /* Slightly rounded corners for a modern look */
        }

        /* --- Confidential Information Styling --- */
        .confidential {
            background-color: #e9ecef;
            color: #6c757d;
            padding: 0 0.4em;
            border-radius: 4px;
            font-style: italic;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }

        .confidential.revealed {
            background-color: transparent;
            color: inherit;
            font-style: normal;
            font-weight: 600;
        }

        /* --- Modal and Prompt Styling --- */
        #token-modal, #request-access-modal {
            display: none; /* Modals are hidden by default */
        }

        .download-prompt {
            display: none; /* Initially hidden */
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            font-size: 0.9em;
            align-items: center;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            z-index: 1000;
        }

        .download-prompt.show {
            display: flex;
            opacity: 1;
        }

        .download-prompt .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            line-height: 1;
        }
        
        /* --- Print-Specific Styles --- */
        @media print {
            body {
                background-color: #fff;
                margin: 0;
            }
            .paper-container {
                box-shadow: none;
                border-radius: 0;
                /* MODIFIED: Changed from padding to margin for better print reliability */
                margin: 0.25in;
                padding: 0;
                width: auto;
                max-width: none;
            }
            /* Hide interactive elements when printing */
            .flex.justify-end, #request-access-modal, #token-modal, .download-prompt {
                display: none !important;
            }
            /* Obfuscate confidential data for print unless revealed */
            .confidential.revealed {
                color: transparent !important;
                background-color: #e9ecef !important;
            }
            .confidential.revealed::after {
                content: '[Request Access]';
                color: #6c757d !important;
                font-style: italic;
                font-weight: normal;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Replaced 'container' and Tailwind sizing with the custom 'paper-container' class -->
    <div class="paper-container">

        <header class="text-center mb-8 pb-4 border-b">
            <!-- MODIFIED: Reduced heading size -->
            <h1 class="text-2xl font-bold text-gray-800">RAHUL KUMAR</h1>
            <div class="header-contact text-gray-600 mt-2">
                <a href="mailto:rahulkumar_rk@live.in" class="text-blue-600 hover:underline">rahulkumar_rk@live.in</a> |
                <span>+91 9740871055</span> |
                <a href="https://www.linkedin.com/in/rahulkumarrk" target="_blank" class="text-blue-600 hover:underline">linkedin.com/in/rahulkumarrk</a>
            </div>
        </header>
        
        <div class="flex justify-end gap-x-4 mb-6">
             <button id="request-btn" onclick="openRequestModal()" class="bg-green-600 text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:bg-green-700 transition-colors duration-300 text-sm">
                Request Access
            </button>
            <button id="reveal-btn" onclick="openTokenModal()" class="bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:bg-blue-700 transition-colors duration-300 text-sm">
                <span class="lock-icon">ðŸ”’</span> Enter Access Token
            </button>
        </div>


        <main>
            <section class="mb-6">
                <!-- MODIFIED: Reduced heading size -->
                <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-3 text-gray-700">Profile Summary</h2>
                <!-- MODIFIED: Updated Profile Summary -->
                <p class="text-justify">
                    Senior Quantitative Researcher with over 12 years of experience in designing, backtesting, and validating systematic, alpha-generating investment strategies across multiple asset classes. Proven expertise in factor modeling, portfolio optimization, and machine learning. Combines a deep background in buy-side strategy development with institutional-grade risk management and model governance experience forged at a top-tier global investment bank.
                </p>
            </section>

            <section class="mb-6">
                <!-- MODIFIED: Reduced heading size -->
                <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-3 text-gray-700">Research and Professional Experience</h2>
                
                <!-- MODIFIED: Combined UBS roles into one entry -->
                <div class="mb-5">
                    <div class="flex justify-between items-baseline flex-wrap pb-1 border-b border-gray-200">
                        <h3 class="text-base font-semibold text-gray-800">Associate Director, UBS</h3>
                        <p class="text-sm text-gray-600 italic">March 2019 - Present</p>
                    </div>
                    <ul class="list-disc pl-6 mt-2 space-y-1">
                        <li class="text-justify">Led a team in the <strong>quantitative analysis and research</strong> of complex credit (PD, LGD) and valuation models to identify weaknesses, assess performance, and ensure soundness across the firm's multi-asset class portfolios.</li>
                        <li class="text-justify">Managed a <span id="confidential-sovereign-portfolio" class="confidential">[Request Access]</span> Sovereign portfolio by developing a regulatory-critical <strong>Pillar 1 model</strong> for RWA calculation. For this Low Default Portfolio (LDP), modeled implied PD using the <strong>Pluto and Tasche approach</strong> and performed extensive <strong>sensitivity and Margin of Conservatism (MoC) analysis</strong>.</li>
                        <li class="text-justify">Developed a <strong>Value at Risk (VaR) based methodology</strong> to determine lending values (haircuts) for the bank's short-term Lombard lending business, serving <strong>High-Net-Worth Individual (HNI) clients</strong>. This involved modeling a diverse multi-asset portfolio (equities, bonds, structured products, etc.) with a total lending value of <span id="confidential-lombard-portfolio" class="confidential">[Request Access]</span>.</li>
                        <li class="text-justify">Spearheaded the quantitative modeling for a <strong>"Speed Boat" initiative</strong> to design a "Premium Lending Value" model, offering higher lending values to premium clients in exchange for shorter close-out periods.</li>
                        <li class="text-justify">Developed and remediated key credit risk models, including the Swiss LGD model, and applied <strong>logistic regression</strong> techniques to specialized asset classes such as <strong>aircraft finance and industrial goods leasing</strong>.</li>
                        <li class="text-justify">Designed pricing models for <strong>Credit-Linked Notes (CLNs)</strong> and modeled the non-linear payouts of other <strong>structured products</strong> to accurately determine their lending value using a VaR approach.</li>
                        <li class="text-justify">Contributed to <strong>equity lending value models</strong> using GARCH with Maximum Likelihood Estimation (MLE) and Student-t distribution.</li>
                        <li class="text-justify">Spearheaded the submission of 44 AIRB, Pillar I models to FINMA, ensuring regulatory compliance and model soundness at the highest institutional level.</li>
                    </ul>
                </div>

                <div class="mb-5">
                    <div class="flex justify-between items-baseline flex-wrap pb-1 border-b border-gray-200">
                        <h3 class="text-base font-semibold text-gray-800">Senior Research Analyst, CRISIL Ltd.</h3>
                         <p class="text-sm text-gray-600 italic">January 2017 - March 2019</p>
                    </div>
                    <ul class="list-disc pl-6 mt-2 space-y-1">
                         <li class="text-justify">Designed, tested, and validated <strong>alpha-generating quantitative strategies</strong> for systematic buy-side multi-asset investment portfolios, primarily in R.</li>
                         <li class="text-justify">Constructed models to estimate the term structure of German Bonds using Nelson and Siegel (1987) method with weighted constrained optimization.</li>
                         <li class="text-justify">Replicated <strong>Determinants of intra-euro area government bond spreads</strong> via panel data regression.</li>
                         <li class="text-justify">Developed <strong>Nowcasting GDP</strong> model integrating Principal Component Analysis, Vector Autoregression, and Kalman Filter Smoother.</li>
                         <li class="text-justify">Created an R package for rectangular cartograms of world maps, visualizing macro data as heat maps by GDP size.</li>
                         <li class="text-justify">Designed a <strong>Leading Economic Indicator</strong> model for major economies using Machine Learning to identify optimal leading properties.</li>
                         <li class="text-justify">Developed and backtested <strong>factor-based and systematic investment strategies</strong>, including <strong>Investment Clock/Business Cycle</strong>, <strong>Credit Impulse</strong>, and <strong>Sector Rotation</strong> models.</li>
                         <li class="text-justify">Designed and developed an NLP and text mining algorithm for sentiment-based stock price prediction from Fortune 500 US company reports.</li>
                    </ul>
                </div>
                
                <div class="mb-5">
                    <div class="flex justify-between items-baseline flex-wrap pb-1 border-b border-gray-200">
                        <h3 class="text-base font-semibold text-gray-800">Analytics & Modeling Analyst, Accenture Services Pvt. Ltd.</h3>
                         <p class="text-sm text-gray-600 italic">January 2016 - January 2017</p>
                    </div>
                     <ul class="list-disc pl-6 mt-2 space-y-1">
                        <li class="text-justify">Built predictive models for trade, transaction, and sales volumes for Fortune 500 companies, focusing on short-term and long-term forecasts.</li>
                        <li class="text-justify">Modeled arrival patterns and tick-by-tick data flow at granular intervals (1-min, 15-min, 30-min, 60-min) using SETAR, VAR, and SVD methods on market data.</li>
                    </ul>
                </div>
                <div class="mb-5">
                    <div class="flex justify-between items-baseline flex-wrap pb-1 border-b border-gray-200">
                        <h3 class="text-base font-semibold text-gray-800">Research Assistant, Institute for Social and Economic Change</h3>
                         <p class="text-sm text-gray-600 italic">June 2015 - December 2015</p>
                    </div>
                    <ul class="list-disc pl-6 mt-2 space-y-1">
                        <li class="text-justify">Researched with Center for Social and Economic Policy (CESP), on Reserve Bank of India, Government of Karnataka, Norway Government sponsored projects of regional, national and international importance; in the area of Credit, Finance, Macroeconomics and Development Economics; exploring the inter-linkages for the purpose of public policy making and evaluation purposes using statistical and logistic regression models.</li>
                    </ul>
                </div>
                <div class="mb-5">
                    <div class="flex justify-between items-baseline flex-wrap pb-1 border-b border-gray-200">
                        <h3 class="text-base font-semibold text-gray-800">Gandhi Fellow, Piramal Foundation for Education Leadership</h3>
                         <p class="text-sm text-gray-600 italic">July 2014 - December 2014</p>
                    </div>
                    <ul class="list-disc pl-6 mt-2 space-y-1">
                        <li>Consulted a team of primary school headmasters on strategies to improve student learning outcome (SLO).</li>
                    </ul>
                </div>
                <div class="mb-5">
                    <div class="flex justify-between items-baseline flex-wrap pb-1 border-b border-gray-200">
                        <h3 class="text-base font-semibold text-gray-800">Associate, Fidelity Investments Ltd.</h3>
                         <p class="text-sm text-gray-600 italic">November 2010 - May 2012</p>
                    </div>
                    <ul class="list-disc pl-6 mt-2 space-y-1">
                        <li class="text-justify">Review Financial Models and calculations related to pension funds (US Defined Benefit). Published excel based reports periodically. Performed data validation exercises with SQL while maintaining accuracy in processing files (on a day-to-day basis). Researched the discrepancy related to data and resolved issues before bringing it to notice.</li>
                    </ul>
                </div>

            </section>

            <section class="mb-6">
                <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-3 text-gray-700">Technical/Programming Skills</h2>
                <div class="skills-list space-y-1">
                    <p><strong class="font-semibold">Programming:</strong> R (Expert), Python, SQL, SAS, C++</p>
                    <p><strong class="font-semibold">Modeling & Statistics:</strong> Econometric Modeling, Time Series Analysis (VAR, GARCH, SETAR), VaR, Logistic Regression, Multivariate Regression, Tail Loss Modeling, PCA, Kalman Filter, Machine Learning, MLE, Panel Data.</p>
                    <p><strong class="font-semibold">AI & Productivity Tools:</strong> GitHub Copilot & Cursor for accelerated code development; proficient in leveraging AI for data-driven research and analysis.</p>
                    <p><strong class="font-semibold">Platforms & Data:</strong> Proficient in leveraging financial data from sources like Bloomberg, Refinitiv, and public exchanges (NSE/BSE) via APIs and data pipelines.</p>
                </div>
            </section>

            <section class="mb-6">
                <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-3 text-gray-700">Academic Records</h2>
                <div class="mb-4">
                    <div class="flex justify-between items-baseline flex-wrap">
                        <h3 class="text-base font-semibold">Ph.D. in Economics (undergoing), BITS, Pilani - Hyderabad</h3>
                        <p class="text-sm italic text-gray-600">Jan 2024 - Ongoing</p>
                    </div>
                    <p class="mt-1 text-justify">Research Focus: Global Macroeconomy, International Finance, Global Capital & Trade Flow, Central Banking, Econometrics.</p>
                </div>
                <div class="mb-4">
                     <div class="flex justify-between items-baseline flex-wrap">
                        <h3 class="text-base font-semibold">MA Applied Economics, Christ University, Bangalore</h3>
                        <p class="text-sm italic text-gray-600">June 2012 - May 2014</p>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between items-baseline flex-wrap">
                        <h3 class="text-base font-semibold">Executive Program in Global Economics for Manager (EPGEM), IIM Calcutta</h3>
                        <p class="text-sm italic text-gray-600">May 2011 - April 2012</p>
                    </div>
                </div>
            </section>
            
            <section>
                <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-3 text-gray-700">Publication and Academic Project</h2>
                 <div class="publication-item">
                    <h3 class="text-base font-semibold">International Publication: Kumar, Rahul (2014). "India's Challenge on Managing the External Sector, with the Sterilization of Capital Flows," Transnational Corporations Review, 6(2):147-170.</h3>
                    <p class="text-sm italic text-gray-600">June, 2014</p>
                    <p class="mt-1 text-justify">The paper examines the impact of sterilized capital flows on India's economic growth, using an Australian Open Economy model to evaluate their absorption and the effectiveness of policy measures in mitigating associated risks and crises.</p>
                </div>
            </section>

        </main>
        
        <footer class="flex justify-between items-end mt-10 pt-4 border-t-2 border-gray-200 text-sm text-gray-600">
             <p>Mumbai, Maharashtra</p>
             <p>Rahul Kumar</p>
        </footer>

    </div>

    <!-- Request Access Modal -->
    <div id="request-access-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl max-w-sm w-full mx-auto p-8">
            <div id="request-form-view">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Request Access</h3>
                <p class="text-gray-600 mb-6">To view confidential details, please submit a request. A single-use access token will be sent to your email if the request is processed.</p>
                <div class="space-y-4">
                    <input type="text" id="request-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="Your Name">
                    <input type="text" id="request-company" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="Your Company">
                    <input type="email" id="request-email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="Your Professional Email">
                </div>
                <p id="request-error-message" class="text-red-500 text-sm mt-2 h-5"></p>
                <div class="flex justify-end space-x-4 mt-6">
                    <button onclick="closeRequestModal()" class="px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200">Cancel</button>
                    <button id="submit-request-btn" onclick="submitAccessRequest()" class="px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700">Submit Request</button>
                </div>
            </div>
            <div id="request-success-view" class="hidden text-center">
                 <h3 class="text-xl font-bold text-green-600 mb-4">Request Sent!</h3>
                 <p class="text-gray-600 mb-6">I have received your request for an access token. Please allow me some time to send it to you as soon as possible.</p>
                 <button onclick="closeRequestModal()" class="w-full px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700">Close</button>
            </div>
        </div>
    </div>

    <!-- Token Modal -->
    <div id="token-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl max-w-sm w-full mx-auto p-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Access Confidential Information</h3>
            <p class="text-gray-600 mb-6">Please enter the access token you received via email.</p>
            <input type="text" id="token-input" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="e.g., a1b2-c3d4-e5f6">
            <p id="token-error-message" class="text-red-500 text-sm mt-2 h-5"></p>
            <div class="flex justify-end space-x-4 mt-6">
                <button onclick="closeTokenModal()" class="px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200">Cancel</button>
                <button onclick="verifyToken()" class="px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700">Submit</button>
            </div>
        </div>
    </div>
    
    <!-- Download Prompt Message -->
    <div id="download-prompt" class="download-prompt">
        <span>To download a PDF, go to File > Print > Save as PDF.</span>
        <button class="close-btn" onclick="document.getElementById('download-prompt').style.display='none';">&times;</button>
    </div>

    <script>
        // --- Get references to DOM elements ---
        const tokenModal = document.getElementById('token-modal');
        const tokenInput = document.getElementById('token-input');
        const tokenErrorMessage = document.getElementById('token-error-message');
        
        const requestModal = document.getElementById('request-access-modal');
        const requestNameInput = document.getElementById('request-name');
        const requestCompanyInput = document.getElementById('request-company');
        const requestEmailInput = document.getElementById('request-email');
        const requestErrorMessage = document.getElementById('request-error-message');
        const requestFormView = document.getElementById('request-form-view');
        const requestSuccessView = document.getElementById('request-success-view');

        const revealBtn = document.getElementById('reveal-btn');
        let isRevealed = false; // State to track if info is revealed

        // --- Event Listeners ---
        
        // Show download prompt after a delay
        window.addEventListener('DOMContentLoaded', (event) => {
            setTimeout(() => {
                const downloadPrompt = document.getElementById('download-prompt');
                if(downloadPrompt) {
                    downloadPrompt.classList.add('show');
                }
            }, 3000);
        });
        
        // Allow submitting token with Enter key
        tokenInput.addEventListener('keyup', function(event) {
            if (event.key === "Enter") {
                event.preventDefault();
                verifyToken();
            }
        });

        // --- Modal Control Functions ---
        
        function openTokenModal() {
            if (isRevealed) return; // Don't open if already revealed
            tokenModal.style.display = 'flex';
            tokenInput.focus();
        }

        function closeTokenModal() {
            tokenModal.style.display = 'none';
            tokenErrorMessage.textContent = '';
            tokenInput.value = '';
        }
        
        function openRequestModal() {
            requestFormView.style.display = 'block'; // Show the form
            requestSuccessView.style.display = 'none'; // Hide success message
            requestModal.style.display = 'flex';
            requestNameInput.focus();
        }

        function closeRequestModal() {
            requestModal.style.display = 'none';
            // Clear form fields
            requestErrorMessage.textContent = '';
            requestNameInput.value = '';
            requestCompanyInput.value = '';
            requestEmailInput.value = '';
        }

        // --- API Interaction Functions ---

        async function submitAccessRequest() {
            const name = requestNameInput.value.trim();
            const company = requestCompanyInput.value.trim();
            const email = requestEmailInput.value.trim();

            if (!name || !company || !email) {
                requestErrorMessage.textContent = 'All fields are required.';
                return;
            }

            const submitBtn = document.getElementById('submit-request-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            requestErrorMessage.textContent = '';

            try {
                const vercelProjectUrl = 'https://rahulkumareconomist-github-io.vercel.app';
                const apiUrl = `${vercelProjectUrl}/api/request-access`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, company, email })
                });

                if (response.ok) {
                    requestFormView.style.display = 'none';
                    requestSuccessView.style.display = 'block';
                } else {
                    const result = await response.json();
                    throw new Error(result.error || 'Failed to submit request.');
                }

            } catch (error) {
                console.error("Access request error:", error);
                requestErrorMessage.textContent = error.message;
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit Request';
            }
        }

        // MODIFIED: Securely verify token and fetch data from backend
        async function verifyToken() {
            const token = tokenInput.value.trim();
            if (!token) {
                tokenErrorMessage.textContent = 'Token cannot be empty.';
                return;
            }
            
            tokenErrorMessage.textContent = 'Verifying...';

            try {
                // MODIFIED: This URL now correctly points to the verify-token endpoint.
                const vercelProjectUrl = 'https://rahulkumareconomist-github-io.vercel.app';
                const apiUrl = `${vercelProjectUrl}/api/verify-token`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ token: token })
                });

                const result = await response.json();

                if (response.ok && result.success) {
                    // If successful, the server sends back the data to be displayed.
                    revealConfidentialInfo(result.data);
                    closeTokenModal();
                } else {
                    tokenErrorMessage.textContent = result.error || 'Incorrect token.';
                    tokenInput.value = '';
                }
            } catch (error) {
                console.error("Verification error:", error);
                tokenErrorMessage.textContent = 'Verification failed. Please try again.';
            }
        }

        // MODIFIED: This function now receives the data from the server
        function revealConfidentialInfo(data) {
            // Loop through the data received from the server
            for (const key in data) {
                // Find the element with the corresponding ID
                const el = document.getElementById(key);
                if (el) {
                    // Update its content and styling
                    el.textContent = data[key];
                    el.classList.add('revealed');
                }
            }
            
            isRevealed = true;
            revealBtn.classList.add('opacity-50', 'cursor-not-allowed');
            revealBtn.innerHTML = `<span class="lock-icon">ðŸ”“</span> Details Revealed`;
            document.getElementById('request-btn').style.display = 'none';
        }
        
    </script>
</body>
</html>
